<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <!-- style sheets -->
  <link rel="stylesheet" href="/stylesheet/style.css">
  <title>Ecommerce-Page</title>
</head>
<body class="user-profile-page">
<nav class="navbar navbar-expand-md navbar-dark bg-blue py-2 px-3">
  <div class="container-fluid">
    <!-- Brand -->
    <a class="navbar-brand" th:href="@{/home}">
      <img src="/images/0b85d63fda31ffa7c53b34402bafdf359f335361.png"
           alt="HomeEase Logo"
           width="32" height="32"
           class="d-inline-block align-text-top me-2">
      HomeEase
    </a>

    <!-- Toggler (hidden at md and up because of navbar-expand-md) -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
            aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="bi bi-list" style="font-size: 1.5rem; color: white;"></i>
    </button>

    <!-- Menu -->
    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav ms-auto mb-2 mb-md-0 align-items-center">
        <li class="nav-item">
          <a class="nav-link active" href="#" aria-current="page">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/rooms}">Products</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Services</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Contact</a>
        </li>

        <!-- Profile -->
        <li class="nav-item ">
          <a class="nav-link p-0 profile-img-wrapper" href="#">
            <img src="/images/photo-1529139574466-a303027c1d8b.avif"
              alt="Profile"
              width="42" height="42"
              class="rounded-circle border border-2 border-white object-fit-cover">
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<section class="user-details container my-3">
  <div>
    <!-- Welcome note -->
    <div class="welcome-note">
      <span>Welcome,</span>
      <span class="text-name fw-bold" th:text="${person.name}">User Name</span>
    </div>

    <!-- Profile card -->
    <div class="card mt-3">
      <div class="card-header">
        Profile details
      </div>
      <div class="card-body p-3 p-md-4">
        <div class="row g-3 g-md-4 align-items-center">

          <!-- Profile image -->
          <div class="col-12 col-md-auto d-flex justify-content-center mb-2 mb-md-0">
            <img th:src="@{/images/photo-1529139574466-a303027c1d8b.avif}"
                 th:alt="${person.name + ' profile'}"
                 class="profile-img rounded-circle border border-2 object-fit-cover"
                 style="width: 80px; height: 80px;">
          </div>

          <!-- Name, Rent, Date applied -->
          <div class="col-12 col-md d-flex flex-column align-items-center justify-content-center pe-md-3 mb-2 mb-md-0">
            <div class="text-header text-center">
              Name: <span class="fw-semibold mb-1" th:text="${person.name}">Dorathy Okereke</span>
            </div>
            <div class="text-header text-center">
              Rent: <span class="fw-semibold mb-1" th:text="${allocation.rent != null ? allocation.rent : '--- ---'}">--- ---</span>
            </div>
            <div class="text-header text-center">
              Date-applied: <span class="fw-semibold mb-1" th:text="${person.entryDate != null ? person.entryDate : '--- ---'}">--- ---</span>
            </div>
          </div>

          <!-- Email, Room No, Accommodation Status -->
          <div class="col-12 col-md d-flex flex-column align-items-center justify-content-center px-md-3 mb-2 mb-md-0">
            <div class="text-header text-center">
              Email: <span class="fw-semibold mb-1" th:text="${person.email}">dorathy@example.com</span>
            </div>
            <div class="text-header text-center">
              Room No: <span class="fw-semibold mb-1" th:text="${allocation.roomNo != null ? allocation.roomNo : '--- ---'}">--- ---</span>
            </div>
            <div class="text-header text-center">
              Accommodation-status: <span class="fw-semibold mb-1" th:text="${allocation.status != null ? allocation.status : 'None'}">None</span>
            </div>
          </div>

          <!-- Phone No & House Address -->
          <div class="col-12 col-md d-flex flex-column align-items-center justify-content-center ps-md-3">
            <div class="text-header text-center">
              Phone-no: <span class="fw-semibold mb-1" th:text="${person.phoneNo}">+231 08 080 8080</span>
            </div>
            <div class="text-header text-center">
              House address: <span class="fw-semibold mb-1" th:text="${allocation.houseAddress != null ? allocation.houseAddress : '--- ---'}">--- ---</span>
            </div>
          </div>

        </div>
      </div>
    </div>

<!-- Accommodation status card -->
<div class="acc-status card mt-3">
  <div class="card-header">
    Accommodation Status
  </div>

  <!-- If no allocation -->
  <div th:if="${allocation.status == 'None'}" class="card-body p-3 p-md-4">
    <div class="d-flex flex-column justify-content-center align-items-center text-center">
      <img th:src="@{/images/1bedcbc3f31ffe5889846835750fb317b7b46a2e.gif}" 
           alt="Accommodation status" 
           class="neg-margin" 
           style="max-width: 600px;">
      <p class="mb-1">No accommodation yet</p>
      <p class="mb-0">
        Click <a class="click-here" th:href="@{/rooms}">HERE</a> to get an accommodation
      </p>
    </div>
  </div>

  <!-- If active or pending allocation -->
  <div th:if="${allocation.status != 'None'}" class="card-body p-3 p-md-4">
    <div class="row g-4">
      <div class="col-md-6">
        <img th:src="@{/images/sample-house.jpg}" class="img-fluid rounded ratio r3" alt="Property image">
      </div>

      <div class="col-md-6">
        <h4 th:text="'Room ' + ${allocation.roomNo}"></h4>
        
        <div class="text-muted small mb-2">
          <i class="bi bi-bucket-fill"></i> Bath Info  
          <i class="bi bi-bed-fill ms-3"></i> <span th:text="${allocation.roomNo}"></span>  
          <i class="bi bi-building-fill ms-3"></i> <span th:text="${allocation.houseNo}"></span>
        </div>
        
        <div class="text-muted small mb-3">
          <i class="bi bi-geo-alt-fill"></i> Address Info
        </div>
        
        <h6>Description</h6>
        <p class="text-muted">Property description here...</p>
        
        <button class="btn btn-blue-gradient text-white">Apply</button>
      </div>
    </div>
  </div>
</div>

  </div>
</section>


<script src="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    
</body>
</html>