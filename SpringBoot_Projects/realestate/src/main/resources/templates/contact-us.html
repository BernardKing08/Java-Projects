<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- style sheets -->
  <link rel="stylesheet" th:href="@{/stylesheet/style.css}">
  <link rel="stylesheet" th:href="@{/stylesheet/product_style.css}">
  <title>Contact Service</title>
</head>
<body class="user-profile-page">

<!-- Import header fragment -->
<div th:replace="~{headerfragment :: siteHeader}"></div>

<section class="contact-service">
  <!-- Welcome Section -->
  <div class="welcome-section">
    <div class="container">
      <div class="welcome-note">
        <h1 class="text-name mb-3">Contact Our Support Team</h1>
        <p class="lead mb-0">We're here to help you with any questions or concerns</p>
      </div>
    </div>
  </div>

  <div class="container py-5">
    <div class="row g-4">
      <!-- Contact Information -->
      <div class="col-lg-4">
        <div class="card h-100">
          <div class="card-header">
            <h5 class="mb-0"><i class="bi bi-info-circle me-2"></i>Contact Information</h5>
          </div>
          <div class="card-body">
            <div class="info-item">
              <div class="info-label"><i class="bi bi-telephone-fill me-2"></i>Phone</div>
              <div class="info-value">+234 (0) 123 456 7890</div>
            </div>
            
            <div class="info-item">
              <div class="info-label"><i class="bi bi-envelope-fill me-2"></i>Email</div>
              <div class="info-value">support@accommodationportal.com</div>
            </div>
            
            <div class="info-item">
              <div class="info-label"><i class="bi bi-clock-fill me-2"></i>Working Hours</div>
              <div class="info-value">Monday - Friday: 8:00 AM - 6:00 PM<br>Saturday: 9:00 AM - 4:00 PM</div>
            </div>
            
            <div class="info-item">
              <div class="info-label"><i class="bi bi-geo-alt-fill me-2"></i>Address</div>
              <div class="info-value">123 University Avenue<br>Academic City, Lagos, Nigeria</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact Form -->
      <div class="col-lg-8">
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0"><i class="bi bi-send-fill me-2"></i>Send us a Message</h5>
          </div>
          <div class="card-body">
            <form id="contactForm" th:action="@{/contact/submit}" method="post">
              <div class="row g-3">
                <div class="col-md-6">
                  <label for="name" class="form-label">Full Name *</label>
                  <input type="text" class="form-control" id="name" name="name"
                    th:value="${currentUser != null ? currentUser.name : ''}"
                    th:attr="readonly=${currentUser != null}">

                </div>
                
                <div class="col-md-6">
                  <label for="email" class="form-label">Email Address *</label>
                  <input type="email" class="form-control" id="email" name="email"
       th:value="${currentUser != null ? currentUser.email : ''}"
       th:attr="readonly=${currentUser != null}">

                </div>
                
                <div class="col-12">
                  <label for="subject" class="form-label">Subject *</label>
                  <select class="form-select" id="subject" name="subject" required>
                    <option value="">Select a subject...</option>
                    <option value="accommodation">Accommodation Inquiry</option>
                    <option value="payment">Payment Issues</option>
                    <option value="technical">Technical Support</option>
                    <option value="complaint">Complaint</option>
                    <option value="suggestion">Suggestion</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                
                <div class="col-12">
                  <label for="message" class="form-label">Message *</label>
                  <textarea class="form-control" id="message" name="message" rows="5" 
                            placeholder="Please describe your issue or question in detail..." required></textarea>
                </div>
                
                <div class="col-12">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="urgent" name="urgent">
                    <label class="form-check-label" for="urgent">
                      This is an urgent matter requiring immediate attention
                    </label>
                  </div>
                </div>
                
                <div class="col-12">
                  <button type="submit" class="btn btn-blue-gradient w-100">
                    <i class="bi bi-send me-2"></i>Send Message
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- FAQ Section -->
    <div class="row mt-5">
      <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0"><i class="bi bi-question-circle-fill me-2"></i>Frequently Asked Questions</h5>
          </div>
          <div class="card-body">
            <div class="accordion" id="faqAccordion">
              <div class="accordion-item border-0 mb-3">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                          data-bs-target="#faq1" aria-expanded="false" aria-controls="faq1">
                    How long does it take to get a response?
                  </button>
                </h2>
                <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                  <div class="accordion-body">
                    We typically respond to all inquiries within 24-48 hours during business days. Urgent matters are prioritized and may receive a response within 4-6 hours.
                  </div>
                </div>
              </div>
              
              <div class="accordion-item border-0 mb-3">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                          data-bs-target="#faq2" aria-expanded="false" aria-controls="faq2">
                    What information should I include in my message?
                  </button>
                </h2>
                <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                  <div class="accordion-body">
                    Please include your full name, student ID (if applicable), contact information, and a detailed description of your issue. For accommodation-related inquiries, include your application reference number if you have one.
                  </div>
                </div>
              </div>
              
              <div class="accordion-item border-0 mb-3">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                          data-bs-target="#faq3" aria-expanded="false" aria-controls="faq3">
                    Can I visit the office in person?
                  </button>
                </h2>
                <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                  <div class="accordion-body">
                    Yes, our office is open during business hours. However, we recommend scheduling an appointment first to ensure the appropriate staff member is available to assist you.
                  </div>
                </div>
              </div>
              
              <div class="accordion-item border-0 mb-3">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                          data-bs-target="#faq4" aria-expanded="false" aria-controls="faq4">
                    How do I check the status of my accommodation application?
                  </button>
                </h2>
                <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                  <div class="accordion-body">
                    You can check your application status by logging into your account dashboard. If you're experiencing issues or need clarification, please contact us with your application reference number.
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Success Modal -->
<div class="modal success-modal fade" id="contactSuccessModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body text-center py-5">
        <div class="success-icon">
          <i class="bi bi-check-circle-fill"></i>
        </div>
        <h3 class="mb-3">Message Sent Successfully!</h3>
        <p class="text-muted">Thank you for contacting us. We'll get back to you as soon as possible.</p>
        <button type="button" class="btn btn-blue-gradient mt-3" data-bs-dismiss="modal">Continue</button>
      </div>
    </div>
  </div>
</div>

<!-- Add some custom styles for the contact page -->
<style>
  .contact-service {
    min-height: calc(100vh - 76px);
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  }
  
  .form-control, .form-select {
    border-radius: 12px;
    padding: 0.8rem 1rem;
    border: 2px solid #e9ecef;
    transition: all 0.3s ease;
  }
  
  .form-control:focus, .form-select:focus {
    border-color: #068ECB;
    box-shadow: 0 0 0 0.2rem rgba(6, 142, 203, 0.25);
  }
  
  .accordion-button {
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border-radius: 12px !important;
    font-weight: 500;
    padding: 1rem 1.5rem;
  }
  
  .accordion-button:not(.collapsed) {
    background: linear-gradient(135deg, #068ECB, #00609F);
    color: white;
    box-shadow: 0 4px 15px rgba(6, 142, 203, 0.3);
  }
  
  .accordion-body {
    background: linear-gradient(135deg, #ffffff, #f8f9fa);
    border-radius: 0 0 12px 12px;
    padding: 1.5rem;
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Handle form submission
  document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Here you would typically send the form data to your server
    // For demonstration, we'll show the success modal
    const successModal = new bootstrap.Modal(document.getElementById('contactSuccessModal'));
    successModal.show();
    
    // Reset form after successful submission
    setTimeout(() => {
      this.reset();
    }, 1000);
  });

  // Auto-expand FAQ item if there's a hash in the URL
  document.addEventListener('DOMContentLoaded', function() {
    if (window.location.hash) {
      const target = document.querySelector(window.location.hash);
      if (target && target.classList.contains('accordion-collapse')) {
        const bsCollapse = new bootstrap.Collapse(target, { toggle: true });
      }
    }
  });
</script>
    
</body>
</html>